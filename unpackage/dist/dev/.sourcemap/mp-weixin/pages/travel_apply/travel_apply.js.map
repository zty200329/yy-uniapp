{"version":3,"sources":["uni-app:///main.js","webpack:////Users/zty/Documents/uniapp/yy/pages/travel_apply/travel_apply.vue?8665","webpack:////Users/zty/Documents/uniapp/yy/pages/travel_apply/travel_apply.vue?e664","webpack:////Users/zty/Documents/uniapp/yy/pages/travel_apply/travel_apply.vue?e65b","webpack:////Users/zty/Documents/uniapp/yy/pages/travel_apply/travel_apply.vue?ab8b","uni-app:///pages/travel_apply/travel_apply.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/travel_apply/travel_apply.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/travel_apply/travel_apply.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./travel_apply.vue?vue&type=template&id=c42e82b4&\"\nvar renderjs\nimport script from \"./travel_apply.vue?vue&type=script&lang=js&\"\nexport * from \"./travel_apply.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/travel_apply/travel_apply.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./travel_apply.vue?vue&type=template&id=c42e82b4&\"","var components\ntry {\n  components = {\n    tuiInput: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-input/tui-input\" */ \"@/components/thorui/tui-input/tui-input.vue\"\n      )\n    },\n    tuiSwitch: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-switch/tui-switch\" */ \"@/components/thorui/tui-switch/tui-switch.vue\"\n      )\n    },\n    tuiTextarea: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-textarea/tui-textarea\" */ \"@/components/thorui/tui-textarea/tui-textarea.vue\"\n      )\n    },\n    tuiUpload: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-upload/tui-upload\" */ \"@/components/thorui/tui-upload/tui-upload.vue\"\n      )\n    },\n    tuiButton: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-button/tui-button\" */ \"@/components/thorui/tui-button/tui-button.vue\"\n      )\n    },\n    tuiDatetime: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-datetime/tui-datetime\" */ \"@/components/thorui/tui-datetime/tui-datetime.vue\"\n      )\n    },\n    tuiRadioGroup: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-radio-group/tui-radio-group\" */ \"@/components/thorui/tui-radio-group/tui-radio-group.vue\"\n      )\n    },\n    tuiLabel: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-label/tui-label\" */ \"@/components/thorui/tui-label/tui-label.vue\"\n      )\n    },\n    tuiRadio: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-radio/tui-radio\" */ \"@/components/thorui/tui-radio/tui-radio.vue\"\n      )\n    },\n    tuiFormButton: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-form-button/tui-form-button\" */ \"@/components/thorui/tui-form-button/tui-form-button.vue\"\n      )\n    },\n    tuiToast: function() {\n      return import(\n        /* webpackChunkName: \"components/thorui/tui-toast/tui-toast\" */ \"@/components/thorui/tui-toast/tui-toast.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./travel_apply.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./travel_apply.vue?vue&type=script&lang=js&\"","<template>\n  <view>\n\t  <view class=\"tui-page__hd\">\n\t  \t<view class=\"tui-page__title\">出行申请</view>\n\t  \t<view class=\"tui-page__desc\">紧急情况申请出行，以及申请返家</view>\n\t  </view>\n    <tui-input label=\"出行人姓名\" placeholder=\"请输入出行人姓名\" v-model=\"form.name\"></tui-input>\n    <view class=\"thorui-flex__between\">\n      <text>是否为他人申请：{{ form.forOther ? '是' : '否' }}</text>\n      <tui-switch @change=\"changeForOther\"></tui-switch>\n    </view>\n    <view class=\"thorui-flex__between\" v-show=\"form.forOther\">\n      <tui-input label=\"与申请人关系:\" placeholder=\"请输入与申请人的关系\" v-model=\"form.relation\"></tui-input>\n    </view>\n    <view class=\"thorui-flex__between\">\n      <text>出行申请</text>\n      <tui-switch @change=\"changeForIsOutside\"></tui-switch>\n      <text>回家申请</text>\n    </view>\n    <tui-textarea v-model=\"form.applyReason\" flexStart label=\"申请理由\"\n                  placeholder=\"请输入你为什么要出行,为什么,为什么？tell me why!!!and then 我会给你审批的哦..\"></tui-textarea>\n    <text>上传申请附件(最多3张图片)</text>\n    <tui-upload :value=\"form.applyFile\" :limit=\"3\" :header=\"header\" :delConfirm=\"true\" :fileKeyName=\"fileKey\"\n                :serverUrl=\"url\" @complete=\"uploadApplyFileComplete\" @remove=\"removeApplyFileComplete\"></tui-upload>\n    <tui-button @click=\"showOutTime\" plain shape=\"circle\">\n      {{ form.expectedOutTime ? '出行时间:' + form.expectedOutTime : '请选择出行时间' }}\n    </tui-button>\n    <tui-datetime ref=\"outDataTime\" :type=\"1\" @confirm=\"changeOutTime\"></tui-datetime>\n    <tui-button @click=\"showReturnTime\" plain shape=\"circle\">\n      {{ form.expectedReturnTime ? '返回时间:' + form.expectedReturnTime : '请选择返回时间' }}\n    </tui-button>\n    <tui-datetime ref=\"returnDataTime\" :type=\"1\" @confirm=\"changeReturnTime\"></tui-datetime>\n    <tui-textarea v-model=\"form.expectedDestination\" flexStart label=\"预计目的地:\"\n                  placeholder=\"请输入你准备去哪里,写清楚,否则不通过.(如果在外面申请回家,填写清楚你现在在哪)\"></tui-textarea>\n    <tui-textarea v-model=\"form.travelInformation\" flexStart label=\"行程信息:\"\n                  placeholder=\"请输入你去那里以及回家时的路线信息\"></tui-textarea>\n    <view class=\"tui-title thorui-cells\">请选择健康码状态</view>\n    <tui-radio-group name=\"radio\" v-model=\"form.healthCodeStatus\" @change=\"changeHealthCodeStatus\">\n      <view class=\"thorui-cells thorui-white__bg thorui-align__center\">\n        <tui-label>\n          <view class=\"thorui-align__center\">\n            <tui-radio value=\"0\"></tui-radio>\n            <text class=\"tui-text\">绿码</text>\n          </view>\n        </tui-label>\n        <tui-label margin=\"0 0 0 40rpx\">\n          <view class=\"thorui-align__center\">\n            <tui-radio value=\"1\"></tui-radio>\n            <text class=\"tui-text\">黄码</text>\n          </view>\n        </tui-label>\n        <tui-label margin=\"0 0 0 40rpx\">\n          <view class=\"thorui-align__center\">\n            <tui-radio value=\"2\"></tui-radio>\n            <text class=\"tui-text\">红码</text>\n          </view>\n        </tui-label>\n      </view>\n    </tui-radio-group>\n    <text>上传健康码截图</text>\n    <tui-upload :limit=\"1\" :header=\"header\" :delConfirm=\"true\" :fileKeyName=\"fileKey\" :serverUrl=\"url\"\n                @complete=\"uploadHealthCodeFileComplete\" @remove=\"removeHealthCodeFileComplete\"></tui-upload>\n    <text>上传行程卡截图</text>\n    <tui-upload :limit=\"1\" :header=\"header\" :delConfirm=\"true\" :fileKeyName=\"fileKey\" :serverUrl=\"url\"\n                @complete=\"uploadTravelCardFileComplete\" @remove=\"removeTravelCardFileComplete\"></tui-upload>\n    <tui-textarea v-model=\"form.homeAdd\" flexStart label=\"家庭住址\" placeholder=\"请输入你的家庭住址，写清楚门牌号\"></tui-textarea>\n    <tui-input label=\"手机号\" placeholder=\"请输入出行人手机号\" v-model=\"form.phoneNum\"></tui-input>\n    <tui-input label=\"紧急联系人手机号\" placeholder=\"请输入紧急联系人手机号\" v-model=\"form.emergencyNum\"></tui-input>\n    <tui-form-button radius=\"50px\" @click=\"submitApply\">提交申请</tui-form-button>\n    <tui-toast ref=\"msg\"></tui-toast>\n  </view>\n</template>\n\n<script>\nimport utils from \"@/components/common/tui-utils/tui-utils.js\"\nimport store from '../../store/index.js';\nimport tuiUpload from \"@/components/thorui/tui-upload/tui-upload\"\nimport { submitTravelApplication } from \"@/api/travel_apply.js\"\nexport default {\n  components: {\n    tuiUpload\n  },\n  data() {\n    return {\n      form: {\n        name: '',\n        forOther: 0,\n        applyReason: '',\n        applyFile: [],\n        expectedOutTime: '',\n        expectedReturnTime: '',\n        expectedDestination: '',\n        travelInformation: '',\n        healthCodeStatus: '',\n        healthCodeFile: '',\n        travelCardFile: '',\n        homeAdd: '',\n        phoneNum: '',\n        emergencyNum: '',\n        relation: '',\n        isOutside: false,\n      },\n      url: 'http://127.0.0.1:8083/api/file/uploadImg',\n      // url: 'http://zyyzty.mynatapp.cc/api/file/uploadImg',\n      header: {\n        Authorization: store.state.user.token,\n        'Content-Type': 'multipart/form-data'\n      },\n      fileKey: 'img',\n    };\n  },\n  methods: {\n    changeForIsOutside(e) {\n      this.form.isOutside = e.detail.value\n    },\n    changeForOther(e) {\n      if (e.detail.value) {\n        this.form.forOther = 1\n      } else {\n        this.form.forOther = 0\n        this.form.relation = ''\n      }\n    },\n    uploadApplyFileComplete(e) {\n      console.log(e)\n      this.form.applyFile = e.imgArr\n    },\n    removeApplyFileComplete(e) {\n      let index = e.index\n    },\n    uploadHealthCodeFileComplete(e) {\n      console.log(e)\n      this.form.healthCodeFile = e.imgArr[0]\n    },\n    removeHealthCodeFileComplete(e) {\n      let index = e.index\n    },\n    uploadTravelCardFileComplete(e) {\n      console.log(e)\n      this.form.travelCardFile = e.imgArr[0]\n    },\n    removeTravelCardFileComplete(e) {\n      let index = e.index\n    },\n    showOutTime(e) {\n      this.$refs.outDataTime.show();\n    },\n    changeOutTime(e) {\n      this.form.expectedOutTime = utils.formatDate('y-m-d h:i:s',e.result,1)\n    },\n    showReturnTime(e) {\n      this.$refs.returnDataTime.show();\n    },\n    changeReturnTime(e) {\n      this.form.expectedReturnTime = utils.formatDate('y-m-d h:i:s',e.result,1)\n    },\n    changeHealthCodeStatus(e) {\n      this.form.healthCodeStatus = e.detail.value\n    },\n    // 提交申请\n    submitApply(){\n      const form = {\n        applyFile: this.form.applyFile,\n        applyReason: this.form.applyReason,\n        emergencyNum: this.form.emergencyNum,\n        expectedDestination: this.form.expectedDestination,\n        expectedOutTime: this.form.expectedOutTime,\n        expectedReturnTime: this.form.expectedReturnTime,\n        forOther: this.form.forOther,\n        healthCodeFile: this.form.healthCodeFile,\n        healthCodeStatus: this.form.healthCodeStatus,\n        homeAdd: this.form.homeAdd,\n        name: this.form.name,\n        phoneNum: this.form.phoneNum,\n        relation: this.form.relation,\n        isOutside: this.form.isOutside,\n        travelCardFile: this.form.travelCardFile,\n        travelInformation: this.form.travelInformation\n      }\n      submitTravelApplication(form).then(res => {\n        let params = {\n          title: \"操作成功\",\n          content: \"更新个人信息成功！\"\n        }\n        this.$refs.msg.show(params);\n      }).catch(err => {\n        console.log(err)\n      })\n    }\n  }\n}\n\n</script>\n\n<style lang=\"scss\">\n\n</style>\n"],"sourceRoot":""}